<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100">
  <div class="w-full max-w-md bg-white rounded-2xl shadow-2xl p-8">
    <div class="flex flex-col items-center mb-6">
      <div class="bg-blue-100 rounded-full p-4 mb-2">
        <svg class="w-10 h-10 text-blue-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M12 11c2.21 0 4-1.79 4-4S14.21 3 12 3s-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2a1 1 0 001 1h14a1 1 0 001-1v-2c0-2.66-5.33-4-8-4z" />
        </svg>
      </div>
      <h2 class="text-3xl font-extrabold text-gray-800 tracking-tight mb-1" *ngIf="!modoRegistro">Bienvenido</h2>
      <h2 class="text-3xl font-extrabold text-gray-800 tracking-tight mb-1" *ngIf="modoRegistro">Crea tu cuenta</h2>
      <p class="text-gray-500 text-sm" *ngIf="!modoRegistro">Inicia sesión con tus credenciales</p>
      <p class="text-gray-500 text-sm" *ngIf="modoRegistro">Regístrate para acceder</p>
    </div>

    <form *ngIf="!modoRegistro" (ngSubmit)="login()" class="flex flex-col gap-4">
      <div>
        <label class="block text-gray-700 text-sm font-semibold mb-1" for="correo">Correo</label>
        <input type="email" id="correo" [(ngModel)]="correo" name="correo" placeholder="correo@ejemplo.com"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
      </div>
      <div>
        <label class="block text-gray-700 text-sm font-semibold mb-1" for="contrasena">Contraseña</label>
        <input type="password" id="contrasena" [(ngModel)]="contrasena" name="contrasena" placeholder="********"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
      </div>
      <button type="submit" [disabled]="cargando"
        class="w-full bg-blue-600 text-white font-bold py-2 rounded-lg shadow hover:bg-blue-700 transition-colors disabled:bg-blue-300">
        Ingresar
      </button>
      <button type="button" (click)="alternarModo()"
        class="w-full mt-1 bg-white border border-blue-600 text-blue-600 font-semibold py-2 rounded-lg hover:bg-blue-50 transition">
        ¿No tienes cuenta? <span class="underline">Regístrate</span>
      </button>
    </form>

    <form *ngIf="modoRegistro" (ngSubmit)="registro()" class="flex flex-col gap-4">
      <div class="flex gap-2">
        <div class="w-1/2">
          <label class="block text-gray-700 text-sm font-semibold mb-1" for="nombre">Nombre</label>
          <input type="text" id="nombre" [(ngModel)]="registroData.nombre" name="nombre" placeholder="Nombre"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
        </div>
        <div class="w-1/2">
          <label class="block text-gray-700 text-sm font-semibold mb-1" for="apellido">Apellido</label>
          <input type="text" id="apellido" [(ngModel)]="registroData.apellido" name="apellido" placeholder="Apellido"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
        </div>
      </div>
      <div>
        <label class="block text-gray-700 text-sm font-semibold mb-1" for="correoRegistro">Correo</label>
        <input type="email" id="correoRegistro" [(ngModel)]="registroData.correo" name="correo" placeholder="correo@ejemplo.com"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
      </div>
      <div class="flex gap-2">
        <div class="w-1/2">
          <label class="block text-gray-700 text-sm font-semibold mb-1" for="dni">DNI</label>
          <input type="text" id="dni" [(ngModel)]="registroData.dni" name="dni" placeholder="DNI"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
        </div>
        <div class="w-1/2">
          <label class="block text-gray-700 text-sm font-semibold mb-1" for="telefono">Teléfono</label>
          <input type="text" id="telefono" [(ngModel)]="registroData.telefono" name="telefono" placeholder="Teléfono"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
        </div>
      </div>
      <div>
        <label class="block text-gray-700 text-sm font-semibold mb-1" for="contrasenaRegistro">Contraseña</label>
        <input type="password" id="contrasenaRegistro" [(ngModel)]="registroData.contrasena" name="contrasena" placeholder="********"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none transition" required>
      </div>
      <button type="submit" [disabled]="cargando"
        class="w-full bg-blue-600 text-white font-bold py-2 rounded-lg shadow hover:bg-blue-700 transition-colors disabled:bg-blue-300">
        Registrar
      </button>
      <button type="button" (click)="alternarModo()"
        class="w-full mt-1 bg-white border border-blue-600 text-blue-600 font-semibold py-2 rounded-lg hover:bg-blue-50 transition">
        ¿Ya tienes cuenta? <span class="underline">Inicia sesión</span>
      </button>
    </form>

    <div *ngIf="mensaje" class="my-4 text-center text-red-600 font-medium animate-pulse">{{ mensaje }}</div>
    <div *ngIf="cargando" class="text-center text-blue-600 mt-2 font-medium animate-pulse">Procesando...</div>
  </div>
</div>